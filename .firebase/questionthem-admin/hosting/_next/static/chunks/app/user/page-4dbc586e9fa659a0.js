(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{722:(e,t,n)=>{Promise.resolve().then(n.bind(n,6458))},2023:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var s=n(5155),r=n(2115),a=n(7055);let i=async(e,t)=>(await fetch("/api/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();function l(){let[e,t]=(0,r.useState)(""),[n,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),{loginWithToken:g}=(0,a.J)(),m=async t=>{t.preventDefault(),c(!0),d(null);try{let t=await i("login",{email:e,password:n});t&&t.customToken?(await g(t.customToken),console.log("Login successful, user state updated.")):d(t.message||"Login failed. Please check your credentials.")}catch(e){console.error("Error during login:",e),d("An unexpected error occurred. Please try again.")}finally{c(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 font-sans p-4",children:(0,s.jsxs)("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-center text-teal-400 mb-8",children:"Admin Dashboard Login"}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-gray-300 text-sm font-medium mb-2",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors",required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-gray-300 text-sm font-medium mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors",required:!0})]}),u&&(0,s.jsx)("div",{className:"mb-4 text-red-400 text-sm text-center",children:u}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:bg-teal-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50",disabled:o,children:o?"Logging in...":"Log In"})]}),(0,s.jsx)("div",{className:"mt-8 text-center text-gray-400 text-sm",children:(0,s.jsx)("p",{children:"This is a backend-only login. No user registration is available."})})]})})}},6458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var s=n(5155);n(2115);var r=n(4581),a=n(7055),i=n(7423);function l(){let{user:e,loading:t}=(0,a.J)();return(0,s.jsx)(r.A,{sx:{width:"100%",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignContent:"center"},children:(0,s.jsx)(i.A,{props:{string:"User",variant:"h1",sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}}})})}n(2023)},7055:(e,t,n)=>{"use strict";n.d(t,{J:()=>g,v:()=>d});var s=n(5155),r=n(2115),a=n(3915),i=n(5404);let l={apiKey:"AIzaSyDHaDT8V1oHWE5qnKXX1bn2C0kjxhI06pI",authDomain:"questionthem-90ccf.firebaseapp.com",projectId:"questionthem-90ccf",storageBucket:"questionthem-90ccf.appspot.com",messagingSenderId:"575809602490",appId:"1:575809602490:web:c90f1a128b592a162fd383"},o=l.apiKey?(0,a.Wp)(l):null,c=o?(0,i.xI)(o):null,u=(0,r.createContext)(null);function d(e){let{children:t}=e,[n,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),[d,g]=(0,r.useState)(null),m=async e=>{o(!0),g(null);try{if(c)await (0,i.p)(c,e);else throw Error("Firebase Auth not initialized.")}catch(e){console.error("Error signing in with custom token:",e),g(e.message||"An error occurred during login.")}finally{o(!1)}},h=async()=>{o(!0),g(null);try{c&&await (0,i.CI)(c)}catch(e){console.error("Error signing out:",e),g(e.message||"An error occurred during sign out.")}finally{o(!1)}};return(0,r.useEffect)(()=>{if(c){let e=(0,i.hg)(c,e=>{a(e),o(!1)});return()=>e()}o(!1)},[]),(0,s.jsx)(u.Provider,{value:{user:n,loading:l,error:d,loginWithToken:m,logout:h},children:t})}function g(){let e=(0,r.useContext)(u);if(null===e)throw Error("useUser must be used within a UserProvider.");return e}},7423:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(5155);n(2115);var r=n(4955);function a(e){let{props:t}=e,{string:n,variant:a="h1",sx:i}=t;return(0,s.jsx)(r.A,{sx:i,variant:a,children:n})}}},e=>{e.O(0,[965,84,441,964,358],()=>e(e.s=722)),_N_E=e.O()}]);