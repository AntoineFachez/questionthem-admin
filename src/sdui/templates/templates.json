[
  {
    "type": "organism.form",
    "title": "",
    "props": { "style": { "padding": 16 } },
    "children": [
      {
        "type": "atom.typography",
        "props": { "variant": "h4", "text": "Welcome Back" }
      },
      {
        "type": "molecule.formField",
        "props": { "label": "Email", "name": "email" }
      },
      {
        "type": "molecule.formField",
        "props": { "label": "Password", "name": "password", "type": "password" }
      },
      {
        "type": "atom.button",
        "props": { "label": "Log In", "variant": "contained" },
        "action": {
          "type": "SUBMIT_FORM",
          "endpoint": "/api/auth/login"
        }
      }
    ]
  },
  {
    "type": "template.grid",
    "props": { "sx": {} },
    "children": {
      "__mapOver": "items",
      "__template": {
        "__includeTemplate": "{{item.cardType}}"
      }
    }
  },

  {
    "type": "template.table",
    "children": [
      {
        "type": "organism.table",
        "props": { "sx": { "minWidth": "100%" } },
        "children": [
          {
            "type": "organism.tableHead",
            "children": [
              {
                "__includeTemplate": "{{widget.tableHeader}}"
              }
            ]
          },
          {
            "type": "organism.tableBody",
            "children": {
              "__mapOver": "items",
              "__template": {
                "__includeTemplate": "{{item.tableBodyType}}"
              }
            }
          }
        ]
      }
    ]
  },
  {
    "type": "template.detail",
    "templateName": "Detail Template",
    "description": "For displaying a single, focused piece of content like an article or product.",
    "children": {
      "__mapOver": "items",
      "__template": {
        "type": "atom.box",
        "props": { "sx": { "padding": "1rem", "textAlign": "center" } },
        "children": [
          {
            "type": "organism.pageHeader",
            "props": {
              "title": "{{header.title}}",
              "subtitle": "{{header.subtitle}}"
            }
          },
          {
            "type": "organism.controls",
            "context": "detail",
            "props": {
              "context": "detail",
              "widgetProps": "{{widget.widgetProps}}"
            }
          },
          {
            "type": "atom.grid",
            "props": {
              "container": true,
              "spacing": 4,
              "sx": { "padding": 2 }
            },
            "children": [
              {
                "type": "atom.grid",
                "props": { "item": true, "xs": 12, "md": 8 },
                "children": [
                  {
                    "type": "organism.contentBlock",
                    "props": {
                      "body": "{{content.body}}"
                    }
                  }
                ]
              },
              {
                "type": "atom.grid",
                "props": { "item": true, "xs": 12, "md": 4 },
                "children": [
                  {
                    "type": "organism.sidebar",
                    "props": {
                      "title": "Related Links"
                    },
                    "children": {
                      "__mapOver": "items",
                      "__template": {
                        "type": "molecule.linkItem",
                        "props": {
                          "text": "{{item.title}}",
                          "url": "{{item.url}}"
                        }
                      }
                    }
                  }
                ]
              }
            ]
          }
        ]
      }
    }
  },
  {
    "type": "template.listView",
    "templateName": "Listing/Grid Template",
    "description": "For displaying a collection of similar items, like search results or products.",
    "children": {
      "__mapOver": "items",
      "__template": {
        "type": "atom.box",
        "props": {
          "sx": {
            "padding": "1rem",
            "textAlign": "center",
            "overflow": "hidden"
          }
        },

        "children": [
          {
            "type": "organism.pageHeader",
            "props": {
              "title": "{{header.title}}"
            }
          },

          {
            "type": "organism.controls",
            "context": "listView",
            "props": {
              "context": "listView",
              "widgetProps": "{{widget.widgetProps}}"
            }
          },
          {
            "type": "organism.grid",
            "props": { "sx": { "padding": 2 } },
            "children": {
              "__mapOver": "items",
              "__template": {
                "type": "molecule.card",
                "props": {
                  "sx": {
                    "padding": "1rem",
                    "textAlign": "center",
                    "overflow": "auto"
                  }
                },
                "children": [
                  {
                    "type": "atom.typography",
                    "props": { "variant": "h6", "text": "{{item.title}}" }
                  },
                  {
                    "type": "atom.typography",
                    "props": { "variant": "body2", "text": "{{item.subtitle}}" }
                  }
                ]
              }
            }
          },
          {
            "type": "organism.pagination",
            "props": {
              "currentPage": "{{pagination.currentPage}}",
              "totalPages": "{{pagination.totalPages}}"
            }
          }
        ]
      }
    }
  },
  {
    "type": "template.dashboard",
    "templateName": "Dashboard Template",
    "description": "A modular layout for displaying personalized user data and widgets.",
    "children": [
      {
        "type": "organism.sidebarNav",
        "props": {
          "navItems": [
            { "label": "Dashboard", "icon": "dashboard" },
            { "label": "Profile", "icon": "person" },
            { "label": "Settings", "icon": "settings" }
          ]
        }
      },
      {
        "type": "organism.controls",
        "context": "dashboard",
        "props": {
          "context": "dashboard",
          "widgetProps": "{{widget.widgetProps}}"
        }
      },
      {
        "type": "atom.box",
        "props": { "component": "main", "sx": { "flexGrow": 1, "p": 3 } },
        "children": [
          {
            "type": "organism.pageHeader",
            "props": {
              "title": "Welcome, {{user.name}}!"
            }
          },
          {
            "type": "organism.grid",
            "children": {
              "__mapOver": "items",
              "__template": {
                "type": "molecule.card",
                "props": { "sx": { "padding": "1rem" } },
                "children": [
                  {
                    "type": "atom.typography",
                    "props": { "variant": "h6", "text": "{{item.title}}" }
                  },
                  {
                    "type": "atom.typography",
                    "props": {
                      "variant": "h3",
                      "text": "{{item.subtitle}}"
                    }
                  }
                ]
              }
            }
          }
        ]
      }
    ]
  },
  {
    "type": "template.form",
    "templateName": "Form Template",
    "description": "A focused layout for user input, such as login or settings.",
    "children": {
      "__mapOver": "items",
      "__template": {
        "type": "atom.box",
        "props": {
          "sx": {
            "display": "flex",
            "flexDirection": "column",
            "alignItems": "center",
            "justifyContent": "center",
            "minHeight": "80vh"
          }
        },
        "children": [
          {
            "type": "organism.form",
            "props": {
              "title": "{{form.title}}",
              "submitButtonText": "{{form.submitButtonText}}"
            },
            "children": {
              "__mapOver": "items",
              "__template": {
                "type": "molecule.formField",
                "props": {
                  "value": "{{formData.value}}",
                  "label": "{{item.label}}",
                  "name": "{{item.name}}",
                  "type": "{{item.type}}",
                  "placeholder": "some placeholder"
                }
              }
            }
          }
        ]
      }
    }
  },
  {
    "devNotes": "refactor this by splitting concerns",
    "metadata": {
      "id": "statistics-screen-v1",
      "version": "1.0",
      "name": "Statistics Screen Template",
      "auth": {
        "required": true,
        "roles": ["admin"]
      }
    },
    "dataSource": {
      "stats": {
        "url": "/api/database/statistics",
        "method": "GET"
      }
    },
    "layout": {
      "component": "ScreenLayout",
      "type": "template.dashboard",
      "props": { "sx": {} },
      "slots": {
        "header": {
          "component": "Header",
          "props": {
            "title": "{dataSource.stats.title}"
          }
        },
        "main": {
          "component": "TableContainer",
          "props": {
            "component": "Paper",
            "sx": { "borderRadius": 2, "boxShadow": 3 }
          },
          "children": [
            {
              "component": "Table",
              "children": [
                {
                  "component": "TableHead",
                  "children": [
                    {
                      "component": "TableRow",
                      "props": {
                        "sx": { "backgroundColor": "theme.palette.grey[100]" }
                      },
                      "children": [
                        {
                          "component": "TableCell",
                          "children": ["Statistic"]
                        },
                        {
                          "component": "TableCell",
                          "props": { "align": "right" },
                          "children": ["Value"]
                        }
                      ]
                    }
                  ]
                },
                {
                  "component": "TableBody",

                  "map": {
                    "data": "{dataSource.stats.rows}",
                    "template": {
                      "component": "TableRow",
                      "props": { "hover": true },
                      "children": [
                        {
                          "component": "TableCell",
                          "children": ["{item.label}"]
                        },
                        {
                          "component": "TableCell",
                          "props": { "align": "right" },
                          "children": ["{item.value}"]
                        }
                      ]
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    }
  }
]
